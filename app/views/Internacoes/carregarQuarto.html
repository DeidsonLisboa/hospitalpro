#{extends 'principal.html' /}
#{set title:'Carregar Quarto' /}

<meta charset="utf-8">
<div class="card mb-3">
	<div class="card-header">
		<i class="fa fa-check-square"></i> Todos os Quartos da Ala </div>
	<div class="card-body">
			
			<label for="quartos">Selecione o quarto para adicionar:</label>
				<div class="input-group mb-3">
					
					<select class="form-control" id="quarto" name="quarto" required="selecione um quarto">  	
						<option value="-1">Selecione um quarto </option>					
					   		#{list items:quartos, as:'quarto'}
					   			<option value="${quarto.id}">${quarto.numeroQuarto}</option>
					   		#{/list}
					</select>
					</div>
					
					<!-- 
					<div class="input-group-append">	
							<button type="button" class="btn btn-success" id="add-qua">Adicionar quarto</button>
					</div>
					</div>
					
					<ul id="quartos" class="list-group list-group-flush">
						 #{if quarto != null }
							#{list items:quartos, as: 'quarto'}
								<li id="li-qua-${quarto.id}" class="list-group-item d-flex justify-content-between align-items-center">
									<input id='qua-${quarto.id}' type='hidden' name='quartos' value='${quarto.id}'>
									
									${quarto.numeroQuarto} 
																
									<button type="button" class="btn btn-danger btn-sm del-qua" value="${quarto.id}">
		          						<span class="glyphicon glyphicon-remove"></span> Remover 
		        					</button>
								</li>
							#{/list}	
						#{/if}
					</ul>
					-->
					
					<div class="modal-footer">
					<a class="btn1 btn-default" href="@{Internacoes.form(quarto.id)}">
           			<button class="btn btn-success">Proximo</button>
           			</a>
           			</div>
		
	</div>
</div>

<script>
$(document).ready(function(){
	$("#quarto option:first").attr('selected','selected'){
	});
}
</script>

<!-- 					
<script>
window.onload = function(){					
					
 $("#add-qua").click(function(){
     	
     	var medicoAdicionado = function(idMedico){
     		var inputHiddenMed = $("#qua-"+idMedico);
     		console.log(inputHiddenMed);
     		console.log(inputHiddenMed.lenght);
     		return (inputHiddenMed.val());
     	};
     	
     	var selectMedico = $('#sel-qua').find(":selected");
     	var nomeMedico = selectMedico.text();
     	var idMedico = selectMedico.val();
     	
     	var html = "<li id='li-qua-" + idMedico + "' class='list-group-item d-flex justify-content-between align-items-center'> " +
 		    		  	"<input id='qua-" + idMedico + "' type='hidden' name='quartos' value='" + idMedico + "'> " +
 		    		  		nomeMedico +
 		    		  		"<button type='button' class='del-qua btn btn-danger btn-sm' value='" + idMedico + "'>" +
 		    		  		"<span class='glyphicon glyphicon-remove'></span> Remover " +
 		    		  		"</button>" +
 		    	   "</li>";
     	
 		console.log(idMedico);
 		console.log(medicoAdicionado(idMedico));
 		
 		if(!medicoAdicionado(idMedico)){
 			$("#quartos").append(html);
 		}else{
 			$.notify('O medico <b>' + nomeMedico + '</b> jÃ¡ foi adicionado.');
 		}
         
         
         $(".del-qua").click(function(){
         	var idMedico = $(this).attr("value");
         	$("#li-qua-" + idMedico).remove();
         });
     });
     
     
     $(".del-qua").click(function(){
     	var idMedico = $(this).attr("value");
     	$("#li-qua-" + idMedico).remove();
     });
     
      $.notifyDefaults({
      	type: 'success',
      	allow_dismiss: true,
      });
    
    
};

</script>

-->