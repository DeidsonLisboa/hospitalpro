#{extends 'principal.html' /}
#{set title:'Carregar Ala' /}

<meta charset="utf-8">
<div class="card mb-3">
	<div class="card-header">
		<i class="fa fa-check-square"></i> Todas as Alas do Hospital</div>
	<div class="card-body">
			
			<label for="alas">Selecione a ala para adicionar:</label>
				<div class="input-group mb-3">
					
					<select class="form-control" id="ala" name="ala" required="selecione uma ala">
					<option value="-1">Selecione uma ala</option>
						#{list items:alas, as:'ala'}
					   			<option value="${ala.id}">${ala.nomeAla}</option>
					   	#{/list}
					
					</select>
					</div>
					<!--  
					<div class="input-group-append">	
							<button type="button" class="btn btn-success" id="add-ala">Adicionar ala</button>
					</div>
					</div>
					
					<ul id="alas" class="list-group list-group-flush">
						 #{if ala != null}
							#{list items:alas, as: 'ala'}
								<li id="li-al-${ala.id}" class="list-group-item d-flex justify-content-between align-items-center">
									<input id='al-${ala.id}' type='hidden' name='alas' value='${ala.id}'>
									
									${ala.nomeAla} 
																
									<button type="button" class="btn btn-danger btn-sm del-al" value="${ala.id}">
		          						<span class="glyphicon glyphicon-remove"></span> Remover 
		        					</button>
								</li>
							#{/list}	
						 #{/if}
					</ul> 
					
					-->
					<div class="modal-footer">
					<a class="btn1 btn-default" href="@{Internacoes.carregarQuarto(ala.id)}">
           			<button class="btn btn-success">Proximo</button>
           			</a>
			</div>
	</div>
</div>

<script>

$(document).ready(function(){
	$("#ala option:first").attr('selected','selected'){
	});
}

</script>
<!-- 			
<script>
window.onload = function(){					
					
 $("#add-ala").click(function(){
     	
     	var medicoAdicionado = function(idMedico){
     		var inputHiddenMed = $("#al-"+idMedico);
     		console.log(inputHiddenMed);
     		console.log(inputHiddenMed.lenght);
     		return (inputHiddenMed.val());
     	};
     	
     	var selectMedico = $('#sel-al').find(":selected");
     	var nomeMedico = selectMedico.text();
     	var idMedico = selectMedico.val();
     	
     	var html = "<li id='li-al-" + idMedico + "' class='list-group-item d-flex justify-content-between align-items-center'> " +
 		    		  	"<input id='al-" + idMedico + "' type='hidden' name='alas' value='" + idMedico + "'> " +
 		    		  		nomeMedico +
 		    		  		"<button type='button' class='del-al btn btn-danger btn-sm' value='" + idMedico + "'>" +
 		    		  		"<span class='glyphicon glyphicon-remove'></span> Remover " +
 		    		  		"</button>" +
 		    	   "</li>";
     	
 		console.log(idMedico);
 		console.log(medicoAdicionado(idMedico));
 		
 		if(!medicoAdicionado(idMedico)){
 			$("#alas").append(html);
 		}else{
 			$.notify('O medico <b>' + nomeMedico + '</b> jÃ¡ foi adicionado.');
 		}
         
         
         $(".del-al").click(function(){
         	var idMedico = $(this).attr("value");
         	$("#li-al-" + idMedico).remove();
         });
     });
     
     
     $(".del-al").click(function(){
     	var idMedico = $(this).attr("value");
     	$("#li-al-" + idMedico).remove();
     });
     
      $.notifyDefaults({
      	type: 'success',
      	allow_dismiss: true,
      });
    
    
};

</script>

 -->		